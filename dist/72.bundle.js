(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/3d/layers/VectorTileLayerView3D":1488,"esri/views/webgl/Texture":1493,"esri/views/webgl/FramebufferObject":1498,"esri/views/3d/layers/LayerView3D":1537,"esri/views/3d/layers/support/layerViewUpdatingProperties":1634,"esri/views/webgl/Renderbuffer":1662,"dojox/xml/parser":1663,"esri/views/3d/layers/TiledLayerView3D":1718})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{1488:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(12),i(0),i(84),i(7),i(16),i(1),i(1718),i(534),i(1941),i(1944)],void 0===(n=function(e,t,i,r,n,o,a,s,l,h,c,d){return function(e){function t(t){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(){var e,t,i,r=this,s=this.layer.compatibleTileInfo256,l=this._getTileInfoSupportError(s,this.layer.fullExtent);l?this.addResolvingPromise(o.reject(l)):t=a.whenTrueOnce(this.view,"basemapTerrain.tilingSchemeLocked").then(function(){var e,t=r.view.basemapTerrain.tilingScheme,i=t.pixelSize[0];r.schemeHelper=new h(i,r.view.spatialReference.isWGS84),e=256===i?r.layer.compatibleTileInfo256:r.view.spatialReference.isWGS84?r.layer.compatibleTileInfo512:r.layer.tileInfo;var n=r._getTileInfoCompatibilityError(e,t);if(n)throw n;r.tileInfo=e,r._updateMinMaxDataLevel()}),e=this._initializeTileHandler(),this.tileHandler=e[0],this.renderer=e[1],i=e[2],this._tileHandlerPromise=i,this.watch("layer.currentStyleInfo",function(){var e,t,n,o;r._tileHandlerPromise.isFulfilled()||r._tileHandlerPromise.cancel(),e=r._initializeTileHandler(),t=e[0],n=e[1],o=e[2],r._tileHandlerPromise=i,o.then(function(){var e=r.tileHandler;r.renderer=n,r.tileHandler=t,r.emit("data-changed"),e.destroy()})});var c=n([t,i]);this.addResolvingPromise(c)},t.prototype.destroy=function(){this.renderer=null,this.tileHandler.destroy(),this.tileHandler=null},t.prototype._initializeTileHandler=function(){var e=new c(this.layer,function(){},1),t=new d,i=e.start();return i.then(function(){t.initialize(e.spriteMosaic,e.glyphMosaic,!1)}),[e,t,i]},r([s.property({aliasOf:"layer.fullExtent"})],t.prototype,"fullExtent",void 0),r([s.property()],t.prototype,"layer",void 0),r([s.property()],t.prototype,"updatingPercentageValue",void 0),r([s.subclass("esri.views.3d.layers.VectorTileLayerView3D")],t)}(s.declared(l))}.apply(null,r))||(e.exports=n)},1493:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(11)],void 0===(n=function(e,t,i){return function(){function e(t,r,n){this._context=null,this._glName=null,this._id=-1,this._desc=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._boundToUnits=new Set,this._context=t,this._desc={pixelFormat:r.pixelFormat,internalFormat:r.internalFormat,dataType:r.dataType,target:r.target?r.target:3553,samplingMode:r.samplingMode?r.samplingMode:9729,wrapMode:r.wrapMode?r.wrapMode:10497,maxAnisotropy:r.maxAnisotropy,flipped:void 0!==r.flipped&&r.flipped,hasMipmap:void 0!==r.hasMipmap&&r.hasMipmap,level:void 0!==r.level?r.level:0,unpackAlignment:r.unpackAlignment?r.unpackAlignment:4,width:r.width,height:r.height,preMultiplyAlpha:void 0!==r.preMultiplyAlpha&&r.preMultiplyAlpha},this._id=++e._nextId,i("esri-webgl-debug")&&t.instanceCounter.incrementCount(0),this.setData(n)}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"glName",{get:function(){return this._glName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptor",{get:function(){return this._desc},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(this._context){if(this._glName){var t=this._context.gl;this._boundToUnits.forEach(function(t){e._context.bindTexture(null,t)}),t.deleteTexture(this._glName),this._glName=null}i("esri-webgl-debug")&&this._context.instanceCounter.decrementCount(0),this._context=null}},e.prototype.resize=function(e,t){var i=this._desc;i.width===e&&i.height===t||(i.width=e,i.height=t,this.setData(null))},e.prototype.setData=function(t){var i=this._context.gl;this._glName||(this._glName=i.createTexture()),void 0===t&&(t=null),null===t&&(this._desc.width=this._desc.width||4,this._desc.height=this._desc.height||4);var r=this._context.getBoundTexture(0);this._context.bindTexture(this,0);var n=this._desc;if(e._validateTexture(n),i.pixelStorei(i.UNPACK_ALIGNMENT,n.unpackAlignment),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,n.flipped?1:0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.preMultiplyAlpha),t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)n.width&&n.height&&console.assert(t.width===n.width&&t.height===n.height),i.texImage2D(i.TEXTURE_2D,n.level,n.internalFormat?n.internalFormat:n.pixelFormat,n.pixelFormat,n.dataType,t),void 0===this._desc.width&&(this._desc.width=t.width),void 0===this._desc.height&&(this._desc.height=t.height);else{null!=n.width&&null!=n.height||console.error("Width and height must be specified!");var o=n.internalFormat?n.internalFormat:n.pixelFormat,a=n.pixelFormat;i.DEPTH24_STENCIL8&&o===i.DEPTH_STENCIL&&(o=i.DEPTH24_STENCIL8),i.texImage2D(i.TEXTURE_2D,n.level,o,n.width,n.height,0,a,n.dataType,t)}n.hasMipmap&&this.generateMipmap(),e._applySamplingMode(i,this._desc),e._applyWrapMode(i,this._desc),e._applyAnisotropicFilteringParameters(this._context,this._desc),this._context.bindTexture(r,0)},e.prototype.updateData=function(e,t,i,r,n,o){o||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");var a=this._context.gl,s=this._desc,l=this._context.getBoundTexture(0);this._context.bindTexture(this,0),(t<0||i<0||r>s.width||n>s.height||t+r>s.width||i+n>s.height)&&console.error("An attempt to update out of bounds of the texture!"),o instanceof ImageData||o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement?(console.assert(o.width===r&&o.height===n),a.texSubImage2D(a.TEXTURE_2D,e,t,i,s.pixelFormat,s.dataType,o)):a.texSubImage2D(a.TEXTURE_2D,e,t,i,r,n,s.pixelFormat,s.dataType,o),this._context.bindTexture(l,0)},e.prototype.generateMipmap=function(){var t=this._desc;t.hasMipmap||(t.hasMipmap=!0,e._validateTexture(t)),9729===t.samplingMode?(this._samplingModeDirty=!0,t.samplingMode=9985):9728===t.samplingMode&&(this._samplingModeDirty=!0,t.samplingMode=9984);var i=this._context.getBoundTexture(0);this._context.bindTexture(this,0);var r=this._context.gl;r.generateMipmap(r.TEXTURE_2D),this._context.bindTexture(i,0)},e.prototype.setSamplingMode=function(t){t!==this._desc.samplingMode&&(this._desc.samplingMode=t,e._validateTexture(this._desc),this._samplingModeDirty=!0)},e.prototype.setWrapMode=function(t){t!==this._desc.wrapMode&&(this._desc.wrapMode=t,e._validateTexture(this._desc),this._wrapModeDirty=!0)},e.prototype.applyChanges=function(){var t=this._context.gl,i=this._desc;this._samplingModeDirty&&(e._applySamplingMode(t,i),this._samplingModeDirty=!1),this._wrapModeDirty&&(e._applyWrapMode(t,i),this._wrapModeDirty=!1)},e.prototype.setBoundToUnit=function(e,t){t?this._boundToUnits.add(e):this._boundToUnits.delete(e)},e._isPowerOfTwo=function(e){return 0==(e&e-1)},e._validateTexture=function(t){(t.width<0||t.height<0)&&console.error("Negative dimension parameters are not allowed!"),e._isPowerOfTwo(t.width)&&e._isPowerOfTwo(t.height)||(33071!==t.wrapMode&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),t.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"))},e._applySamplingMode=function(e,t){var i=t.samplingMode;9985===i||9987===i?i=9729:9984!==i&&9986!==i||(i=9728),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.samplingMode)},e._applyWrapMode=function(e,t){e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,t.wrapMode),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,t.wrapMode)},e._applyAnisotropicFilteringParameters=function(e,t){if(null!=t.maxAnisotropy){var i=e.capabilities.textureFilterAnisotropic;if(i){var r=e.gl;r.texParameterf(r.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy)}}},e._nextId=0,e}()}.apply(null,r))||(e.exports=n)},1498:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(11),i(1662),i(1493)],void 0===(n=function(e,t,i,r,n){return function(){function e(t,o,a,s){if(this._context=null,this._glName=null,this._depthAttachment=null,this._stencilAttachment=null,this._colorAttachment=null,this._initialized=!1,this._context=t,this._desc={colorTarget:o.colorTarget,depthStencilTarget:o.depthStencilTarget,width:o.width,height:o.height,multisampled:o.multisampled},this._id=e._nextId++,i("esri-webgl-debug")&&t.instanceCounter.incrementCount(4),a){var l=void 0;a instanceof n?(this._colorAttachment=a,l=a.descriptor):(l=a,this._colorAttachment=new n(this._context,l)),0!==this._desc.colorTarget&&console.error("Framebuffer is initialized with a texture however the descriptor indicates using a renderbuffer color attachment!"),e._validateTextureDimensions(l,this._desc)}if(s instanceof r)2===o.depthStencilTarget?this._stencilAttachment=s:1===o.depthStencilTarget||3===o.depthStencilTarget?this._depthAttachment=s:console.error('If a Renderbuffer is provided, "depthStencilTarget" must be one of STENCIL_RENDER_BUFFER, DEPTH_RENDER_BUFFER or DEPTH_STENCIL_RENDER_BUFFER'),e._validateBufferDimensions(s.descriptor,this._desc);else if(s){this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!");var h=void 0;s instanceof n?(this._depthStencilTexture=s,h=this._depthStencilTexture.descriptor):(h=s,this._depthStencilTexture=new n(this._context,h)),e._validateTextureDimensions(h,this._desc)}}return e.create=function(t,i){return new e(t,i)},e.createWithAttachments=function(t,i,r,n){return new e(t,r,i,n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"glName",{get:function(){return this._glName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptor",{get:function(){return this._desc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this._colorAttachment instanceof n?this._colorAttachment:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"depthStencilTexture",{get:function(){return this._depthStencilTexture},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._desc.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._desc.height},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._context&&(this._disposeColorAttachment(),this._disposeDepthStencilAttachments(),this._glName&&(this._context.gl.deleteFramebuffer(this._glName),this._glName=null),i("esri-webgl-debug")&&this._context.instanceCounter.decrementCount(4),this._context=null)},e.prototype.attachColorTexture=function(t){if(t){var i=t.descriptor;if(e._validateTextureDimensions(i,this._desc),this._disposeColorAttachment(),this._initialized){this._context.bindFramebuffer(this);var r=this._context.gl;r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t.glName,0)}this._colorAttachment=t}},e.prototype.detachColorTexture=function(){var e=void 0;if(this._colorAttachment instanceof n){if(e=this._colorAttachment,this._initialized){this._context.bindFramebuffer(this);var t=this._context.gl;this._context.gl.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)}this._colorAttachment=null}return e},e.prototype.attachDepthStencilTexture=function(t){if(t){var i=t.descriptor;if(34041!==i.pixelFormat&&console.error("Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!"),34042!==i.dataType&&console.error("Depth/Stencil texture must have data type of UNSIGNED_INT_24_8_WEBGL!"),this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!"),e._validateTextureDimensions(i,this._desc),4!==this._desc.depthStencilTarget&&(this._desc.depthStencilTarget=4),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);var r=this._context.gl;r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,t.glName,0)}this._depthStencilTexture=t}},e.prototype.detachDepthStencilTexture=function(){var e=this._depthStencilTexture;if(e&&this._initialized){this._context.bindFramebuffer(this);var t=this._context.gl;this._context.gl.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,null,0)}return this._depthStencilTexture=null,e},e.prototype.attachDepthStencilBuffer=function(t){if(t){var i=t.descriptor;if(34041!==i.internalFormat&&33189!==i.internalFormat&&console.error("Depth/Stencil buffer must have correct internalFormat"),e._validateBufferDimensions(i,this._desc),this._disposeDepthStencilAttachments(),this._desc.depthStencilTarget=34041===i.internalFormat?3:1,this._initialized){this._context.bindFramebuffer(this);var r=this._context.gl,n=1===this._desc.depthStencilTarget?r.DEPTH_ATTACHMENT:r.DEPTH_STENCIL_ATTACHMENT;r.framebufferRenderbuffer(r.FRAMEBUFFER,n,r.RENDERBUFFER,t.glName)}this._depthAttachment=t}},e.prototype.detachDepthStencilBuffer=function(){var e=this._context.gl,t=this._depthAttachment;if(t&&this._initialized){this._context.bindFramebuffer(this);var i=1===this._desc.depthStencilTarget?e.DEPTH_ATTACHMENT:e.DEPTH_STENCIL_ATTACHMENT;e.framebufferRenderbuffer(e.FRAMEBUFFER,i,e.RENDERBUFFER,null)}return this._depthAttachment=null,t},e.prototype.copyToTexture=function(e,t,i,r,n,o,a){(e<0||t<0||n<0||o<0)&&console.error("Offsets cannot be negative!"),(i<=0||r<=0)&&console.error("Copy width and height must be greater than zero!");var s=this._desc,l=a.descriptor;3553!==a.descriptor.target&&console.error("Texture target must be TEXTURE_2D!"),(e+i>s.width||t+r>s.height||n+i>l.width||o+r>l.height)&&console.error("Bad dimensions, the current input values will attempt to read or copy out of bounds!");var h=this._context;h.bindTexture(a),h.bindFramebuffer(this),h.gl.copyTexSubImage2D(3553,0,n,o,e,t,i,r)},e.prototype.readPixels=function(e,t,i,r,n,o,a){(i<=0||r<=0)&&console.error("Copy width and height must be greater than zero!"),a||console.error("Target memory is not initialized!"),this._context.bindFramebuffer(this),this._context.gl.readPixels(e,t,i,r,n,o,a)},e.prototype.resize=function(t,i){var r=this._desc;if(r.width!==t||r.height!==i){if(!this._initialized){if(r.width=t,r.height=i,this._colorAttachment instanceof n)(o=this._colorAttachment).resize(t,i);return void(this._depthStencilTexture&&this._depthStencilTexture.resize(t,i))}var o,a;if(r.width=t,r.height=i,this._colorAttachment instanceof n)(a=(o=this._colorAttachment).descriptor).width=t,a.height=i,this._colorAttachment.dispose(),this._colorAttachment=new n(this._context,a),e._validateTextureDimensions(o.descriptor,this._desc);else this._colorAttachment&&this._disposeColorAttachment();if(null!=this._depthStencilTexture)(a=this._depthStencilTexture.descriptor).width=t,a.height=i,this._depthStencilTexture.dispose(),this._depthStencilTexture=new n(this._context,a);else(this._depthAttachment||this._stencilAttachment)&&this._disposeDepthStencilAttachments();this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1}},e.prototype.initialize=function(){if(this._initialized)return!1;var e=this._context.gl;this._glName&&e.deleteFramebuffer(this._glName);var t=e.createFramebuffer(),i=this._desc;if(e.bindFramebuffer(e.FRAMEBUFFER,t),!this._colorAttachment)if(0===i.colorTarget){var o={target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,width:i.width,height:i.height};this._colorAttachment=new n(this._context,o)}else{var a=new r(this._context,{internalFormat:32854,width:i.width,height:i.height});e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,a.glName),this._colorAttachment=a}if(this._colorAttachment instanceof n){var s=this._colorAttachment;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,s.glName,0)}switch(i.depthStencilTarget){case 1:case 3:this._depthAttachment||(this._depthAttachment=new r(this._context,{internalFormat:1===i.depthStencilTarget?33189:34041,width:i.width,height:i.height}));var l=1===i.depthStencilTarget?e.DEPTH_ATTACHMENT:e.DEPTH_STENCIL_ATTACHMENT;e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,this._depthAttachment.glName);break;case 2:this._stencilAttachment||(this._stencilAttachment=new r(this._context,{internalFormat:36168,width:i.width,height:i.height})),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,this._stencilAttachment.glName);break;case 4:if(!this._depthStencilTexture){this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!");var h={target:3553,pixelFormat:34041,dataType:34042,samplingMode:9728,wrapMode:33071,width:i.width,height:i.height};this._depthStencilTexture=new n(this._context,h)}e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,this._depthStencilTexture.glName,0)}return e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer is incomplete!"),this._glName=t,this._initialized=!0,!0},e.prototype._disposeColorAttachment=function(){if(this._colorAttachment instanceof n){var e=this._colorAttachment;if(this._initialized)this._context.bindFramebuffer(this),(i=this._context.gl).framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,null,0);e.dispose()}else if(this._colorAttachment instanceof WebGLRenderbuffer){var t=this._colorAttachment,i=this._context.gl;this._initialized&&(this._context.bindFramebuffer(this),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,null)),this._context.gl.deleteRenderbuffer(t)}this._colorAttachment=null},e.prototype._disposeDepthStencilAttachments=function(){var e=this._context.gl;if(this._depthAttachment){if(this._initialized){this._context.bindFramebuffer(this);var t=1===this._desc.depthStencilTarget?e.DEPTH_ATTACHMENT:e.DEPTH_STENCIL_ATTACHMENT;e.framebufferRenderbuffer(e.FRAMEBUFFER,t,e.RENDERBUFFER,null)}this._depthAttachment.dispose(),this._depthAttachment=null}this._stencilAttachment&&(this._initialized&&(this._context.bindFramebuffer(this),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,null)),this._stencilAttachment.dispose(),this._stencilAttachment=null),this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,null,0)),this._depthStencilTexture.dispose(),this._depthStencilTexture=null)},e._validateBufferDimensions=function(e,t){console.assert(e.width>=0&&e.height>=0),void 0!==t.width&&t.width>=0&&void 0!==t.height&&t.height>=0?t.width===e.width&&t.height===e.height||console.error("Renderbuffer dimensions must match the framebuffer's!"):(t.width=e.width,t.height=e.height)},e._validateTextureDimensions=function(e,t){console.assert(e.width>=0&&e.height>=0),3553!==e.target&&console.error("Texture type must be TEXTURE_2D!"),void 0!==t.width&&t.width>=0&&void 0!==t.height&&t.height>=0?t.width===e.width&&t.height===e.height||console.error("Color attachment texture must match the framebuffer's!"):(t.width=e.width,t.height=e.height)},e._nextId=0,e}()}.apply(null,r))||(e.exports=n)},1537:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(2),i(0),i(7),i(16),i(1),i(476),i(1512)],void 0===(n=function(e,t,i,r,n,o,a,s,l){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.supportsHeightUnitConversion=!1,t}return i(t,e),t.prototype.postscript=function(e){this.inherited(arguments),s.mayHaveHeightModelInfo(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())},t.prototype._validateHeightModelInfo=function(){var e=this;return n.create(function(t,i){o.whenFalseOnce(e.view.defaultsFromMap,"isHeightModelInfoSearching",function(){var r=s.rejectLayerError(e.layer,e.view.heightModelInfo,e.supportsHeightUnitConversion);r?i(r):t()})})},r([a.property()],t.prototype,"view",void 0),r([a.subclass("esri.views.3d.layers.LayerView3D")],t)}(a.declared(l))}.apply(null,r))||(e.exports=n)},1634:function(e,t,i){var r,n;r=[i.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.updatingPercentageValue={value:100,readOnly:!0},t.updatingPercentage={dependsOn:["updating","updatingPercentageValue"],readOnly:!0,value:0,get:function(){return this.updating?this.updatingPercentageValue:0}}}.apply(null,r))||(e.exports=n)},1662:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(11)],void 0===(n=function(e,t,i){return function(){function e(t,r){this._context=t,this._desc=r,this._glName=null,this._id=-1;var n=this._context.gl;i("esri-webgl-debug")&&this._context.instanceCounter.incrementCount(5),this._id=++e._nextId,this._glName=n.createRenderbuffer(),this._context.bindRenderbuffer(this),n.renderbufferStorage(n.RENDERBUFFER,r.internalFormat,r.width,r.height)}return Object.defineProperty(e.prototype,"descriptor",{get:function(){return this._desc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"glName",{get:function(){return this._glName},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){var i=this._context.gl,r=this._desc;r.width===e&&r.height===t||(r.width=e,r.height=t,this._context.bindRenderbuffer(this),i.renderbufferStorage(i.RENDERBUFFER,r.internalFormat,r.width,r.height))},e.prototype.dispose=function(){this._glName&&(this._context.gl.deleteRenderbuffer(this._glName),this._glName=null),i("esri-webgl-debug")&&this._context.instanceCounter.decrementCount(5),this._context=null},e._nextId=0,e}()}.apply(null,r))||(e.exports=n)},1663:function(e,t,i){var r,n;r=[i(14),i(13),i(28),i(60),i(147)],void 0===(n=function(e){return e.getObject("xml.parser",!0,dojox),dojox.xml.parser.parse=function(t,i){var r,n=e.doc;if(i=i||"text/xml",t&&e.trim(t)&&"DOMParser"in e.global){var o=new DOMParser,a=(r=o.parseFromString(t,i)).documentElement,s="http://www.mozilla.org/newlayout/xml/parsererror.xml";if("parsererror"==a.nodeName&&a.namespaceURI==s){var l=a.getElementsByTagNameNS(s,"sourcetext")[0];throw l&&(l=l.firstChild.data),new Error("Error parsing text "+a.firstChild.data+" \n"+l)}return r}if("ActiveXObject"in e.global){var h=function(e){return"MSXML"+e+".DOMDocument"},c=["Microsoft.XMLDOM",h(6),h(4),h(3),h(2)];if(e.some(c,function(e){try{r=new ActiveXObject(e)}catch(e){return!1}return!0}),t&&r){r.async=!1,r.loadXML(t);var d=r.parseError;if(0!==d.errorCode)throw new Error("Line: "+d.line+"\nCol: "+d.linepos+"\nReason: "+d.reason+"\nError Code: "+d.errorCode+"\nSource: "+d.srcText)}if(r)return r}else if(n.implementation&&n.implementation.createDocument){if(t&&e.trim(t)&&n.createElement){var p=n.createElement("xml");p.innerHTML=t;var u=n.implementation.createDocument("foo","",null);return e.forEach(p.childNodes,function(e){u.importNode(e,!0)}),u}return n.implementation.createDocument("","",null)}return null},dojox.xml.parser.textContent=function(t,i){if(arguments.length>1){var r=t.ownerDocument||e.doc;return dojox.xml.parser.replaceChildren(t,r.createTextNode(i)),i}if(void 0!==t.textContent)return t.textContent;var n="";return t&&e.forEach(t.childNodes,function(e){switch(e.nodeType){case 1:case 5:n+=dojox.xml.parser.textContent(e);break;case 3:case 2:case 4:n+=e.nodeValue}}),n},dojox.xml.parser.replaceChildren=function(t,i){var r=[];e.isIE&&e.forEach(t.childNodes,function(e){r.push(e)}),dojox.xml.parser.removeChildren(t),e.forEach(r,e.destroy),e.isArray(i)?e.forEach(i,function(e){t.appendChild(e)}):t.appendChild(i)},dojox.xml.parser.removeChildren=function(e){for(var t=e.childNodes.length;e.hasChildNodes();)e.removeChild(e.firstChild);return t},dojox.xml.parser.innerXML=function(e){return e.innerXML?e.innerXML:e.xml?e.xml:"undefined"!=typeof XMLSerializer?(new XMLSerializer).serializeToString(e):null},dojox.xml.parser}.apply(null,r))||(e.exports=n)},1718:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(12),i(0),i(8),i(1),i(1537),i(1634),i(498)],void 0===(n=function(e,t,i,r,n,o,a,s,l){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minDataLevel=0,t.maxDataLevel=1/0,t._isUpdating=!1,t}return i(t,e),Object.defineProperty(t.prototype,"imageFormatIsOpaque",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOpaque",{get:function(){return this.fullOpacity>=1&&this.imageFormatIsOpaque},enumerable:!0,configurable:!0}),t.prototype.getTileUrl=function(e,t,i){return this.layer.getTileUrl(e,t,i)},t.prototype.updatingChanged=function(e){this._isUpdating=e,this.notifyChange("updating")},t.prototype.isUpdating=function(){return this._isUpdating},t.prototype._getTileInfoSupportError=function(e,t){var i=l.checkIfTileInfoSupportedForView(e,t,this.view.spatialReference,this.view.basemapTerrain.manifold);if(i){var r={layer:this.layer,error:i},o=void 0;switch(i.name){case"tilingscheme:local-gcs-not-supported":o=new n("layerview:local-gcs-not-supported","Geographic coordinate systems are not supported in local scenes",r);break;case"tilingscheme:spatial-reference-mismatch":case"tilingscheme:global-unsupported-spatial-reference":o=new n("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",r);break;default:o=new n("layerview:tiling-scheme-unsupported","The tiling scheme of this layer is not supported by SceneView",r)}return o}return null},t.prototype._getTileInfoCompatibilityError=function(e,t){return t.compatibleWith(e)?null:new n("layerview:tiling-scheme-incompatible","The tiling scheme of this layer is incompatible with the tiling scheme of the surface")},t.prototype._updateMinMaxDataLevel=function(){var e,t=1/0,i=0;this.tileInfo.lods.forEach(function(e){t=Math.min(e.level,t),i=Math.max(e.level,i)}),e=[t,i],this.minDataLevel=e[0],this.maxDataLevel=e[1]},r([o.property({readOnly:!0})],t.prototype,"imageFormatIsOpaque",null),r([o.property(s.updatingPercentage)],t.prototype,"updatingPercentage",void 0),r([o.property(s.updatingPercentageValue)],t.prototype,"updatingPercentageValue",void 0),r([o.property()],t.prototype,"fullExtent",void 0),r([o.property({readOnly:!0,dependsOn:["fullOpacity","imageFormatIsOpaque"]})],t.prototype,"isOpaque",null),r([o.property()],t.prototype,"layer",void 0),r([o.property()],t.prototype,"minDataLevel",void 0),r([o.property()],t.prototype,"maxDataLevel",void 0),r([o.property()],t.prototype,"tileInfo",void 0),r([o.subclass("esri.views.3d.layers.TiledLayerView3D")],t)}(o.declared(a))}.apply(null,r))||(e.exports=n)}}]);