(function(){
(this||window)["webpackJsonp"].registerAbsMids({
	'esri/layers/graphics/sources/StreamLayerSource':"./node_modules/arcgis-js-api/layers/graphics/sources/StreamLayerSource.js",
	'esri/layers/support/WebSocketConnector':"./node_modules/arcgis-js-api/layers/support/WebSocketConnector.js"
})
})(),(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[84],{

/***/ "./node_modules/arcgis-js-api/layers/graphics/sources/StreamLayerSource.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/arcgis-js-api/layers/graphics/sources/StreamLayerSource.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2018 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.8/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ../../../core/declare */ \"./node_modules/arcgis-js-api/core/declare.js\"),__webpack_require__(/*! dojo/Deferred */ \"./node_modules/dojo/Deferred.js\"),__webpack_require__(/*! ../../../core/Accessor */ \"./node_modules/arcgis-js-api/core/Accessor.js\"),__webpack_require__(/*! ../../../core/Promise */ \"./node_modules/arcgis-js-api/core/Promise.js\"),__webpack_require__(/*! ../../../core/lang */ \"./node_modules/arcgis-js-api/core/lang.js\"),__webpack_require__(/*! ../../../core/urlUtils */ \"./node_modules/arcgis-js-api/core/urlUtils.js\"),__webpack_require__(/*! ../../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../../../geometry/Extent */ \"./node_modules/arcgis-js-api/geometry/Extent.js\"),__webpack_require__(/*! ../../support/WebSocketConnector */ \"./node_modules/arcgis-js-api/layers/support/WebSocketConnector.js\"),__webpack_require__(/*! ../../../tasks/QueryTask */ \"./node_modules/arcgis-js-api/tasks/QueryTask.js\"),__webpack_require__(/*! ../../../request */ \"./node_modules/arcgis-js-api/request.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,r,t,i,n,s,o,a,l,u,c){return e([t,i],{declaredClass:\"esri.layers.graphics.sources.StreamLayerSource\",getDefaults:function(e){var r=this.inherited(arguments),t=e.layer;return t&&(r=n.mixin(r,{url:t.url})),r},initialize:function(){this.addResolvingPromise(this._fetchLayers())},properties:{connectionInfo:{get:function(){if(this.layer.hasMemorySource||this.layer.socketUrl)return{serviceSocketUrls:[this.layer.socketUrl]};if(this.layerDefinition){var e,r,t,i,n={},o=this.layerDefinition,a=[],l=[],u=[];if(o.streamUrls&&o.streamUrls.forEach(function(e){\"ws\"===e.transport&&(a=e.urls,n.token=e.token)},this),a.forEach(function(e){0===e.lastIndexOf(\"wss\",0)?u.push(e):l.push(e)}),(e=\"https\"===s.appUrl.scheme||0===this.url.lastIndexOf(\"https:\",0)?u:0===l.length?u:l)&&e.length>1)for(r=0;r<e.length-1;r++)t=r+Math.floor(Math.random()*(e.length-r)),i=e[t],e[t]=e[r],e[r]=i;return n.serviceSocketUrls=e,n}}},latestUrl:{get:function(){var e=this.layerDefinition,r=e.keepLatestArchive&&e.keepLatestArchive.featuresUrl;return r=r||null}},latestQueryTask:{get:function(){var e=this.latestUrl;return e?new u(e):null}},layer:{},relatedFeaturesInfo:{get:function(){var e=this.layerDefinition||{},r=e.relatedFeatures;return r=r&&r.featuresUrl?r:null}},relatedFeaturesQueryTask:{get:function(){var e=this.relatedFeaturesInfo,r=e?e.featuresUrl:null;return r?new u(r):null}},parsedUrl:{get:function(){return this.url?s.urlToObject(this.url):null}},url:null},createWebSocketConnector:function(e){var t=new r;return this.when(function(){var r,i,s,o,a=this.connectionInfo,u=this.layer.spatialReference,c={};try{r=this.makeFilter()}catch(e){return void t.reject(e)}if(a){if(a.socketUrl?s=[a.socketUrl]:a.serviceSocketUrls&&(s=a.serviceSocketUrls.map(function(e){return e+\"/\"+this.layer.socketDirection}.bind(this))),c.socketUrls=s,r&&(r.where||r.geometry||r.outFields)){var h=r.geometry;h&&\"string\"!=typeof h&&(h=h.toJSON?JSON.stringify(h.toJSON()):JSON.stringify(h)),i=n.mixin(i||{},{where:r.where,geometry:h,outFields:r.outFields})}a.token&&(i=n.mixin(i||{},{token:a.token})),e&&u&&e.wkid!==u.wkid&&(i=n.mixin(i||{},{outSR:e.wkid})),c.queryParams=i,c.layerSource=this,o=new l(c),t.resolve(o)}else t.reject(new Error(\"No web socket urls found\"))}.bind(this)),t.promise},getWebSocketToken:function(){return this._fetchStreamLayer().then(function(e){var r=e.data,t=null;return r.streamUrls&&r.streamUrls.some(function(e){if(\"ws\"===e.transport)return t=e.token,!0},this),t}.bind(this))},makeFilter:function(e){var r,t=this.layer,i=null;if(e){var s;if(r={},e.hasOwnProperty(\"where\")&&(r.where=e.where),e.hasOwnProperty(\"geometry\")){if((s=e.geometry)&&!s.hasOwnProperty(\"xmin\"))throw new Error(\"Cannot make filter. Only Extent is supported for the geometry filter\");s&&!s.declaredClass&&(s=new a(s)),r.geometry=s}}else{var o=t.filter||{};r={where:o.where,geometry:o.geometry};var l=this.relatedFeaturesInfo&&this.relatedFeaturesInfo.outFields||t.outFields;if(l&&-1===l.indexOf(\"*\")){var u=t.fields.map(function(e){return e.name});i=l.filter(function(e){return-1!==u.indexOf(e)}).join(\",\"),r=n.mixin(r||{},{outFields:i})}}return r},_fetchLayers:function(){return this._fetchStreamLayer().then(function(e){return e.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\")),this.layerDefinition=e.data,this._fetchArchiveLayer()}.bind(this)).then(function(e){return this.archivedLayerDefinition=e&&e.data,this._fetchRelatedLayer()}.bind(this)).then(function(e){this.relatedLayerDefinition=e&&e.data}.bind(this))},_fetchStreamLayer:function(){return this._requestServiceDefinition({url:this.layer.parsedUrl.path,content:n.mixin({f:\"json\"},this.layer.parsedUrl.query)})},_fetchArchiveLayer:function(){var e=this.latestUrl;return e?this._requestServiceDefinition({url:e}):o.resolve()},_fetchRelatedLayer:function(){var e=this.relatedFeaturesInfo;return e?this._requestServiceDefinition({url:e.featuresUrl}):o.resolve()},_requestServiceDefinition:function(e){return e&&e.url?c(e.url,{query:n.mixin(e.content||{},{f:\"json\"}),responseType:\"json\",callbackParamName:\"callback\"}):o.reject(new Error(\"url is a required options property\"))}})}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYXJjZ2lzLWpzLWFwaS9sYXllcnMvZ3JhcGhpY3Mvc291cmNlcy9TdHJlYW1MYXllclNvdXJjZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hcmNnaXMtanMtYXBpL2xheWVycy9ncmFwaGljcy9zb3VyY2VzL1N0cmVhbUxheWVyU291cmNlLmpzPzlhZDYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ09QWVJJR0hUIMKpIDIwMTggRXNyaVxuLy9cbi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgdW5kZXIgdGhlIGNvcHlyaWdodCBsYXdzIG9mIHRoZSBVbml0ZWQgU3RhdGVzXG4vLyBhbmQgYXBwbGljYWJsZSBpbnRlcm5hdGlvbmFsIGxhd3MsIHRyZWF0aWVzLCBhbmQgY29udmVudGlvbnMuXG4vL1xuLy8gVGhpcyBtYXRlcmlhbCBpcyBsaWNlbnNlZCBmb3IgdXNlIHVuZGVyIHRoZSBFc3JpIE1hc3RlciBMaWNlbnNlXG4vLyBBZ3JlZW1lbnQgKE1MQSksIGFuZCBpcyBib3VuZCBieSB0aGUgdGVybXMgb2YgdGhhdCBhZ3JlZW1lbnQuXG4vLyBZb3UgbWF5IHJlZGlzdHJpYnV0ZSBhbmQgdXNlIHRoaXMgY29kZSB3aXRob3V0IG1vZGlmaWNhdGlvbixcbi8vIHByb3ZpZGVkIHlvdSBhZGhlcmUgdG8gdGhlIHRlcm1zIG9mIHRoZSBNTEEgYW5kIGluY2x1ZGUgdGhpc1xuLy8gY29weXJpZ2h0IG5vdGljZS5cbi8vXG4vLyBTZWUgdXNlIHJlc3RyaWN0aW9ucyBhdCBodHRwOi8vd3d3LmVzcmkuY29tL2xlZ2FsL3BkZnMvbWxhX2UyMDRfZTMwMC9lbmdsaXNoXG4vL1xuLy8gRm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24sIGNvbnRhY3Q6XG4vLyBFbnZpcm9ubWVudGFsIFN5c3RlbXMgUmVzZWFyY2ggSW5zdGl0dXRlLCBJbmMuXG4vLyBBdHRuOiBDb250cmFjdHMgYW5kIExlZ2FsIFNlcnZpY2VzIERlcGFydG1lbnRcbi8vIDM4MCBOZXcgWW9yayBTdHJlZXRcbi8vIFJlZGxhbmRzLCBDYWxpZm9ybmlhLCBVU0EgOTIzNzNcbi8vIFVTQVxuLy9cbi8vIGVtYWlsOiBjb250cmFjdHNAZXNyaS5jb21cbi8vXG4vLyBTZWUgaHR0cDovL2pzLmFyY2dpcy5jb20vNC44L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cblxuZGVmaW5lKFtcIi4uLy4uLy4uL2NvcmUvZGVjbGFyZVwiLFwiZG9qby9EZWZlcnJlZFwiLFwiLi4vLi4vLi4vY29yZS9BY2Nlc3NvclwiLFwiLi4vLi4vLi4vY29yZS9Qcm9taXNlXCIsXCIuLi8uLi8uLi9jb3JlL2xhbmdcIixcIi4uLy4uLy4uL2NvcmUvdXJsVXRpbHNcIixcIi4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzXCIsXCIuLi8uLi8uLi9nZW9tZXRyeS9FeHRlbnRcIixcIi4uLy4uL3N1cHBvcnQvV2ViU29ja2V0Q29ubmVjdG9yXCIsXCIuLi8uLi8uLi90YXNrcy9RdWVyeVRhc2tcIixcIi4uLy4uLy4uL3JlcXVlc3RcIl0sZnVuY3Rpb24oZSxyLHQsaSxuLHMsbyxhLGwsdSxjKXtyZXR1cm4gZShbdCxpXSx7ZGVjbGFyZWRDbGFzczpcImVzcmkubGF5ZXJzLmdyYXBoaWNzLnNvdXJjZXMuU3RyZWFtTGF5ZXJTb3VyY2VcIixnZXREZWZhdWx0czpmdW5jdGlvbihlKXt2YXIgcj10aGlzLmluaGVyaXRlZChhcmd1bWVudHMpLHQ9ZS5sYXllcjtyZXR1cm4gdCYmKHI9bi5taXhpbihyLHt1cmw6dC51cmx9KSkscn0saW5pdGlhbGl6ZTpmdW5jdGlvbigpe3RoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZSh0aGlzLl9mZXRjaExheWVycygpKX0scHJvcGVydGllczp7Y29ubmVjdGlvbkluZm86e2dldDpmdW5jdGlvbigpe2lmKHRoaXMubGF5ZXIuaGFzTWVtb3J5U291cmNlfHx0aGlzLmxheWVyLnNvY2tldFVybClyZXR1cm57c2VydmljZVNvY2tldFVybHM6W3RoaXMubGF5ZXIuc29ja2V0VXJsXX07aWYodGhpcy5sYXllckRlZmluaXRpb24pe3ZhciBlLHIsdCxpLG49e30sbz10aGlzLmxheWVyRGVmaW5pdGlvbixhPVtdLGw9W10sdT1bXTtpZihvLnN0cmVhbVVybHMmJm8uc3RyZWFtVXJscy5mb3JFYWNoKGZ1bmN0aW9uKGUpe1wid3NcIj09PWUudHJhbnNwb3J0JiYoYT1lLnVybHMsbi50b2tlbj1lLnRva2VuKX0sdGhpcyksYS5mb3JFYWNoKGZ1bmN0aW9uKGUpezA9PT1lLmxhc3RJbmRleE9mKFwid3NzXCIsMCk/dS5wdXNoKGUpOmwucHVzaChlKX0pLChlPVwiaHR0cHNcIj09PXMuYXBwVXJsLnNjaGVtZXx8MD09PXRoaXMudXJsLmxhc3RJbmRleE9mKFwiaHR0cHM6XCIsMCk/dTowPT09bC5sZW5ndGg/dTpsKSYmZS5sZW5ndGg+MSlmb3Iocj0wO3I8ZS5sZW5ndGgtMTtyKyspdD1yK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooZS5sZW5ndGgtcikpLGk9ZVt0XSxlW3RdPWVbcl0sZVtyXT1pO3JldHVybiBuLnNlcnZpY2VTb2NrZXRVcmxzPWUsbn19fSxsYXRlc3RVcmw6e2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMubGF5ZXJEZWZpbml0aW9uLHI9ZS5rZWVwTGF0ZXN0QXJjaGl2ZSYmZS5rZWVwTGF0ZXN0QXJjaGl2ZS5mZWF0dXJlc1VybDtyZXR1cm4gcj1yfHxudWxsfX0sbGF0ZXN0UXVlcnlUYXNrOntnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxhdGVzdFVybDtyZXR1cm4gZT9uZXcgdShlKTpudWxsfX0sbGF5ZXI6e30scmVsYXRlZEZlYXR1cmVzSW5mbzp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sYXllckRlZmluaXRpb258fHt9LHI9ZS5yZWxhdGVkRmVhdHVyZXM7cmV0dXJuIHI9ciYmci5mZWF0dXJlc1VybD9yOm51bGx9fSxyZWxhdGVkRmVhdHVyZXNRdWVyeVRhc2s6e2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVsYXRlZEZlYXR1cmVzSW5mbyxyPWU/ZS5mZWF0dXJlc1VybDpudWxsO3JldHVybiByP25ldyB1KHIpOm51bGx9fSxwYXJzZWRVcmw6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybD9zLnVybFRvT2JqZWN0KHRoaXMudXJsKTpudWxsfX0sdXJsOm51bGx9LGNyZWF0ZVdlYlNvY2tldENvbm5lY3RvcjpmdW5jdGlvbihlKXt2YXIgdD1uZXcgcjtyZXR1cm4gdGhpcy53aGVuKGZ1bmN0aW9uKCl7dmFyIHIsaSxzLG8sYT10aGlzLmNvbm5lY3Rpb25JbmZvLHU9dGhpcy5sYXllci5zcGF0aWFsUmVmZXJlbmNlLGM9e307dHJ5e3I9dGhpcy5tYWtlRmlsdGVyKCl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdC5yZWplY3QoZSl9aWYoYSl7aWYoYS5zb2NrZXRVcmw/cz1bYS5zb2NrZXRVcmxdOmEuc2VydmljZVNvY2tldFVybHMmJihzPWEuc2VydmljZVNvY2tldFVybHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlK1wiL1wiK3RoaXMubGF5ZXIuc29ja2V0RGlyZWN0aW9ufS5iaW5kKHRoaXMpKSksYy5zb2NrZXRVcmxzPXMsciYmKHIud2hlcmV8fHIuZ2VvbWV0cnl8fHIub3V0RmllbGRzKSl7dmFyIGg9ci5nZW9tZXRyeTtoJiZcInN0cmluZ1wiIT10eXBlb2YgaCYmKGg9aC50b0pTT04/SlNPTi5zdHJpbmdpZnkoaC50b0pTT04oKSk6SlNPTi5zdHJpbmdpZnkoaCkpLGk9bi5taXhpbihpfHx7fSx7d2hlcmU6ci53aGVyZSxnZW9tZXRyeTpoLG91dEZpZWxkczpyLm91dEZpZWxkc30pfWEudG9rZW4mJihpPW4ubWl4aW4oaXx8e30se3Rva2VuOmEudG9rZW59KSksZSYmdSYmZS53a2lkIT09dS53a2lkJiYoaT1uLm1peGluKGl8fHt9LHtvdXRTUjplLndraWR9KSksYy5xdWVyeVBhcmFtcz1pLGMubGF5ZXJTb3VyY2U9dGhpcyxvPW5ldyBsKGMpLHQucmVzb2x2ZShvKX1lbHNlIHQucmVqZWN0KG5ldyBFcnJvcihcIk5vIHdlYiBzb2NrZXQgdXJscyBmb3VuZFwiKSl9LmJpbmQodGhpcykpLHQucHJvbWlzZX0sZ2V0V2ViU29ja2V0VG9rZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmV0Y2hTdHJlYW1MYXllcigpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHI9ZS5kYXRhLHQ9bnVsbDtyZXR1cm4gci5zdHJlYW1VcmxzJiZyLnN0cmVhbVVybHMuc29tZShmdW5jdGlvbihlKXtpZihcIndzXCI9PT1lLnRyYW5zcG9ydClyZXR1cm4gdD1lLnRva2VuLCEwfSx0aGlzKSx0fS5iaW5kKHRoaXMpKX0sbWFrZUZpbHRlcjpmdW5jdGlvbihlKXt2YXIgcix0PXRoaXMubGF5ZXIsaT1udWxsO2lmKGUpe3ZhciBzO2lmKHI9e30sZS5oYXNPd25Qcm9wZXJ0eShcIndoZXJlXCIpJiYoci53aGVyZT1lLndoZXJlKSxlLmhhc093blByb3BlcnR5KFwiZ2VvbWV0cnlcIikpe2lmKChzPWUuZ2VvbWV0cnkpJiYhcy5oYXNPd25Qcm9wZXJ0eShcInhtaW5cIikpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG1ha2UgZmlsdGVyLiBPbmx5IEV4dGVudCBpcyBzdXBwb3J0ZWQgZm9yIHRoZSBnZW9tZXRyeSBmaWx0ZXJcIik7cyYmIXMuZGVjbGFyZWRDbGFzcyYmKHM9bmV3IGEocykpLHIuZ2VvbWV0cnk9c319ZWxzZXt2YXIgbz10LmZpbHRlcnx8e307cj17d2hlcmU6by53aGVyZSxnZW9tZXRyeTpvLmdlb21ldHJ5fTt2YXIgbD10aGlzLnJlbGF0ZWRGZWF0dXJlc0luZm8mJnRoaXMucmVsYXRlZEZlYXR1cmVzSW5mby5vdXRGaWVsZHN8fHQub3V0RmllbGRzO2lmKGwmJi0xPT09bC5pbmRleE9mKFwiKlwiKSl7dmFyIHU9dC5maWVsZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWV9KTtpPWwuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09dS5pbmRleE9mKGUpfSkuam9pbihcIixcIikscj1uLm1peGluKHJ8fHt9LHtvdXRGaWVsZHM6aX0pfX1yZXR1cm4gcn0sX2ZldGNoTGF5ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZldGNoU3RyZWFtTGF5ZXIoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNzbCYmKHRoaXMudXJsPXRoaXMudXJsLnJlcGxhY2UoL15odHRwOi9pLFwiaHR0cHM6XCIpKSx0aGlzLmxheWVyRGVmaW5pdGlvbj1lLmRhdGEsdGhpcy5fZmV0Y2hBcmNoaXZlTGF5ZXIoKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hcmNoaXZlZExheWVyRGVmaW5pdGlvbj1lJiZlLmRhdGEsdGhpcy5fZmV0Y2hSZWxhdGVkTGF5ZXIoKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihlKXt0aGlzLnJlbGF0ZWRMYXllckRlZmluaXRpb249ZSYmZS5kYXRhfS5iaW5kKHRoaXMpKX0sX2ZldGNoU3RyZWFtTGF5ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVxdWVzdFNlcnZpY2VEZWZpbml0aW9uKHt1cmw6dGhpcy5sYXllci5wYXJzZWRVcmwucGF0aCxjb250ZW50Om4ubWl4aW4oe2Y6XCJqc29uXCJ9LHRoaXMubGF5ZXIucGFyc2VkVXJsLnF1ZXJ5KX0pfSxfZmV0Y2hBcmNoaXZlTGF5ZXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxhdGVzdFVybDtyZXR1cm4gZT90aGlzLl9yZXF1ZXN0U2VydmljZURlZmluaXRpb24oe3VybDplfSk6by5yZXNvbHZlKCl9LF9mZXRjaFJlbGF0ZWRMYXllcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVsYXRlZEZlYXR1cmVzSW5mbztyZXR1cm4gZT90aGlzLl9yZXF1ZXN0U2VydmljZURlZmluaXRpb24oe3VybDplLmZlYXR1cmVzVXJsfSk6by5yZXNvbHZlKCl9LF9yZXF1ZXN0U2VydmljZURlZmluaXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUudXJsP2MoZS51cmwse3F1ZXJ5Om4ubWl4aW4oZS5jb250ZW50fHx7fSx7ZjpcImpzb25cIn0pLHJlc3BvbnNlVHlwZTpcImpzb25cIixjYWxsYmFja1BhcmFtTmFtZTpcImNhbGxiYWNrXCJ9KTpvLnJlamVjdChuZXcgRXJyb3IoXCJ1cmwgaXMgYSByZXF1aXJlZCBvcHRpb25zIHByb3BlcnR5XCIpKX19KX0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/arcgis-js-api/layers/graphics/sources/StreamLayerSource.js\n");

/***/ }),

/***/ "./node_modules/arcgis-js-api/layers/support/WebSocketConnector.js":
/*!*************************************************************************!*\
  !*** ./node_modules/arcgis-js-api/layers/support/WebSocketConnector.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2018 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.8/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! dojo/io-query */ \"./node_modules/dojo/io-query.js\"),__webpack_require__(/*! dojo/Deferred */ \"./node_modules/dojo/Deferred.js\"),__webpack_require__(/*! ../../core/Accessor */ \"./node_modules/arcgis-js-api/core/Accessor.js\"),__webpack_require__(/*! ../../core/Evented */ \"./node_modules/arcgis-js-api/core/Evented.js\"),__webpack_require__(/*! ../../core/Promise */ \"./node_modules/arcgis-js-api/core/Promise.js\"),__webpack_require__(/*! ../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../../core/watchUtils */ \"./node_modules/arcgis-js-api/core/watchUtils.js\"),__webpack_require__(/*! ../../core/Error */ \"./node_modules/arcgis-js-api/core/Error.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,n,t,o,c,s,i,r){return t.createSubclass([o,c],{declaredClass:\"esri.layers.support.WebSocketConnector\",initialize:function(){var e=null;if(this.socketUrls.length||(e=new Error(\"No urls passed to WebSocketConnector. No live connection possible\")),\"WebSocket\"in window||(e=new Error(\"The browser does not support Web Sockets. No live connection possible\")),e){var t=new n;this.addResolvingPromise(t.promise),t.reject(e)}this.queryParams&&this.queryParams.token&&this._set(\"tokenNeeded\",!0)},_socket:null,_connectPromise:null,_disconnectPromise:null,properties:{currentSocketUrl:{value:null,readOnly:!0},layerSource:null,queryParams:null,socketUrls:{value:[]},tokenNeeded:{value:!1},connectionError:{value:null,type:r,readOnly:!0},connectionStatus:{value:\"disconnected\",readOnly:!0}},connect:function(){var e=this.connectionStatus;return\"connected\"===e||\"connecting\"===e?this._connectPromise:\"disconnected\"===this.connectionStatus?(this._set(\"connectionStatus\",\"connecting\"),this._connect()):\"disconnecting\"===this.connectionStatus?(this._connectPromise=null,this._disconnectPromise||(this._disconnectPromise=i.once(this,\"connectionStatus\").then(function(e){if(\"disconnected\"===e.value)return this._connect()}.bind(this))),this._disconnectPromise):void 0},disconnect:function(){var e=this.connectionStatus;\"connected\"===e?(this._set(\"connectionStatus\",\"disconnecting\"),this._socket?this._socket.close():this._set(\"connectionStatus\",\"disconnected\")):\"connecting\"===e&&this._connectPromise.then(function(){this.disconnect()}.bind(this))},send:function(e){this._socket&&(\"object\"==typeof e&&(e=JSON.stringify(e)),this._socket.send(e))},_connect:function(){this._connectPromise&&(this._connectPromise=null);var e=new n;return this._connectPromise=e,this._getWebSocketToken().then(function(e){e&&(this.queryParams.token=e);var n=this._makeCurrentUrl(),t=new WebSocket(n);t.onopen=this._handleSocketOpen.bind(this),t.onclose=this._handleSocketClose.bind(this),t.onmessage=this._handleSocketMessage.bind(this),this._socket=t}.bind(this)).catch(function(e){var n=new r(\"web-socket-connector:connect\",\"Could not get websocket token for secured service\",e);this._set(\"connectionError\",n),this._connectPromise.reject(n)}.bind(this)),e.promise},_getWebSocketToken:function(){var e=this.queryParams,n=e&&e.token,t=this.tokenNeeded;return n?s.resolve(n):t?this.layerSource.getWebSocketToken():s.resolve()},_makeCurrentUrl:function(){var n,t,o,c=this.queryParams,s=this.socketUrls;return 1!==s.length&&this.currentSocketUrl?(n=s.indexOf(this.currentSocketUrl),t=n>=s.length-1?0:n+1,o=s[t]):o=s[0],this._set(\"currentSocketUrl\",o),c&&(o+=\"?\"+e.objectToQuery(c)),o},_handleSocketOpen:function(){this._set(\"connectionStatus\",\"connected\"),this._set(\"connectionError\",null),this._disconnectPromise=null,this._connectPromise&&this._connectPromise.resolve()},_handleSocketClose:function(e){var n,t=null;this.queryParams&&(this.queryParams.token=null),e.wasClean&&!e.code||(1001===e.code?n=\"Service is going away.\":4400===e.code?n=e.reason||\"Invalid url parameters. Check filter properties.\":4404===e.code?n=\"Service not found\":4401===e.code||4403===e.code?n=\"Not authorized\":e.wasClean||(n=e.reason||\"Unknown reason\"),n&&(t=new r(\"web-socket-connector:connection closed\",\"Connection failed: \"+n),this._set(\"connectionError\",t),this._connectPromise&&this._connectPromise.reject(t))),this._connectPromise=null,this._set(\"connectionStatus\",\"disconnected\"),this._socket=null},_handleSocketMessage:function(e){this.emit(\"data-received\",e.data)}})}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYXJjZ2lzLWpzLWFwaS9sYXllcnMvc3VwcG9ydC9XZWJTb2NrZXRDb25uZWN0b3IuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXJjZ2lzLWpzLWFwaS9sYXllcnMvc3VwcG9ydC9XZWJTb2NrZXRDb25uZWN0b3IuanM/ZDk3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDT1BZUklHSFQgwqkgMjAxOCBFc3JpXG4vL1xuLy8gQWxsIHJpZ2h0cyByZXNlcnZlZCB1bmRlciB0aGUgY29weXJpZ2h0IGxhd3Mgb2YgdGhlIFVuaXRlZCBTdGF0ZXNcbi8vIGFuZCBhcHBsaWNhYmxlIGludGVybmF0aW9uYWwgbGF3cywgdHJlYXRpZXMsIGFuZCBjb252ZW50aW9ucy5cbi8vXG4vLyBUaGlzIG1hdGVyaWFsIGlzIGxpY2Vuc2VkIGZvciB1c2UgdW5kZXIgdGhlIEVzcmkgTWFzdGVyIExpY2Vuc2Vcbi8vIEFncmVlbWVudCAoTUxBKSwgYW5kIGlzIGJvdW5kIGJ5IHRoZSB0ZXJtcyBvZiB0aGF0IGFncmVlbWVudC5cbi8vIFlvdSBtYXkgcmVkaXN0cmlidXRlIGFuZCB1c2UgdGhpcyBjb2RlIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxuLy8gcHJvdmlkZWQgeW91IGFkaGVyZSB0byB0aGUgdGVybXMgb2YgdGhlIE1MQSBhbmQgaW5jbHVkZSB0aGlzXG4vLyBjb3B5cmlnaHQgbm90aWNlLlxuLy9cbi8vIFNlZSB1c2UgcmVzdHJpY3Rpb25zIGF0IGh0dHA6Ly93d3cuZXNyaS5jb20vbGVnYWwvcGRmcy9tbGFfZTIwNF9lMzAwL2VuZ2xpc2hcbi8vXG4vLyBGb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiwgY29udGFjdDpcbi8vIEVudmlyb25tZW50YWwgU3lzdGVtcyBSZXNlYXJjaCBJbnN0aXR1dGUsIEluYy5cbi8vIEF0dG46IENvbnRyYWN0cyBhbmQgTGVnYWwgU2VydmljZXMgRGVwYXJ0bWVudFxuLy8gMzgwIE5ldyBZb3JrIFN0cmVldFxuLy8gUmVkbGFuZHMsIENhbGlmb3JuaWEsIFVTQSA5MjM3M1xuLy8gVVNBXG4vL1xuLy8gZW1haWw6IGNvbnRyYWN0c0Blc3JpLmNvbVxuLy9cbi8vIFNlZSBodHRwOi8vanMuYXJjZ2lzLmNvbS80LjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuXG5kZWZpbmUoW1wiZG9qby9pby1xdWVyeVwiLFwiZG9qby9EZWZlcnJlZFwiLFwiLi4vLi4vY29yZS9BY2Nlc3NvclwiLFwiLi4vLi4vY29yZS9FdmVudGVkXCIsXCIuLi8uLi9jb3JlL1Byb21pc2VcIixcIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzXCIsXCIuLi8uLi9jb3JlL3dhdGNoVXRpbHNcIixcIi4uLy4uL2NvcmUvRXJyb3JcIl0sZnVuY3Rpb24oZSxuLHQsbyxjLHMsaSxyKXtyZXR1cm4gdC5jcmVhdGVTdWJjbGFzcyhbbyxjXSx7ZGVjbGFyZWRDbGFzczpcImVzcmkubGF5ZXJzLnN1cHBvcnQuV2ViU29ja2V0Q29ubmVjdG9yXCIsaW5pdGlhbGl6ZTpmdW5jdGlvbigpe3ZhciBlPW51bGw7aWYodGhpcy5zb2NrZXRVcmxzLmxlbmd0aHx8KGU9bmV3IEVycm9yKFwiTm8gdXJscyBwYXNzZWQgdG8gV2ViU29ja2V0Q29ubmVjdG9yLiBObyBsaXZlIGNvbm5lY3Rpb24gcG9zc2libGVcIikpLFwiV2ViU29ja2V0XCJpbiB3aW5kb3d8fChlPW5ldyBFcnJvcihcIlRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViIFNvY2tldHMuIE5vIGxpdmUgY29ubmVjdGlvbiBwb3NzaWJsZVwiKSksZSl7dmFyIHQ9bmV3IG47dGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHQucHJvbWlzZSksdC5yZWplY3QoZSl9dGhpcy5xdWVyeVBhcmFtcyYmdGhpcy5xdWVyeVBhcmFtcy50b2tlbiYmdGhpcy5fc2V0KFwidG9rZW5OZWVkZWRcIiwhMCl9LF9zb2NrZXQ6bnVsbCxfY29ubmVjdFByb21pc2U6bnVsbCxfZGlzY29ubmVjdFByb21pc2U6bnVsbCxwcm9wZXJ0aWVzOntjdXJyZW50U29ja2V0VXJsOnt2YWx1ZTpudWxsLHJlYWRPbmx5OiEwfSxsYXllclNvdXJjZTpudWxsLHF1ZXJ5UGFyYW1zOm51bGwsc29ja2V0VXJsczp7dmFsdWU6W119LHRva2VuTmVlZGVkOnt2YWx1ZTohMX0sY29ubmVjdGlvbkVycm9yOnt2YWx1ZTpudWxsLHR5cGU6cixyZWFkT25seTohMH0sY29ubmVjdGlvblN0YXR1czp7dmFsdWU6XCJkaXNjb25uZWN0ZWRcIixyZWFkT25seTohMH19LGNvbm5lY3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbm5lY3Rpb25TdGF0dXM7cmV0dXJuXCJjb25uZWN0ZWRcIj09PWV8fFwiY29ubmVjdGluZ1wiPT09ZT90aGlzLl9jb25uZWN0UHJvbWlzZTpcImRpc2Nvbm5lY3RlZFwiPT09dGhpcy5jb25uZWN0aW9uU3RhdHVzPyh0aGlzLl9zZXQoXCJjb25uZWN0aW9uU3RhdHVzXCIsXCJjb25uZWN0aW5nXCIpLHRoaXMuX2Nvbm5lY3QoKSk6XCJkaXNjb25uZWN0aW5nXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0dXM/KHRoaXMuX2Nvbm5lY3RQcm9taXNlPW51bGwsdGhpcy5fZGlzY29ubmVjdFByb21pc2V8fCh0aGlzLl9kaXNjb25uZWN0UHJvbWlzZT1pLm9uY2UodGhpcyxcImNvbm5lY3Rpb25TdGF0dXNcIikudGhlbihmdW5jdGlvbihlKXtpZihcImRpc2Nvbm5lY3RlZFwiPT09ZS52YWx1ZSlyZXR1cm4gdGhpcy5fY29ubmVjdCgpfS5iaW5kKHRoaXMpKSksdGhpcy5fZGlzY29ubmVjdFByb21pc2UpOnZvaWQgMH0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY29ubmVjdGlvblN0YXR1cztcImNvbm5lY3RlZFwiPT09ZT8odGhpcy5fc2V0KFwiY29ubmVjdGlvblN0YXR1c1wiLFwiZGlzY29ubmVjdGluZ1wiKSx0aGlzLl9zb2NrZXQ/dGhpcy5fc29ja2V0LmNsb3NlKCk6dGhpcy5fc2V0KFwiY29ubmVjdGlvblN0YXR1c1wiLFwiZGlzY29ubmVjdGVkXCIpKTpcImNvbm5lY3RpbmdcIj09PWUmJnRoaXMuX2Nvbm5lY3RQcm9taXNlLnRoZW4oZnVuY3Rpb24oKXt0aGlzLmRpc2Nvbm5lY3QoKX0uYmluZCh0aGlzKSl9LHNlbmQ6ZnVuY3Rpb24oZSl7dGhpcy5fc29ja2V0JiYoXCJvYmplY3RcIj09dHlwZW9mIGUmJihlPUpTT04uc3RyaW5naWZ5KGUpKSx0aGlzLl9zb2NrZXQuc2VuZChlKSl9LF9jb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5fY29ubmVjdFByb21pc2UmJih0aGlzLl9jb25uZWN0UHJvbWlzZT1udWxsKTt2YXIgZT1uZXcgbjtyZXR1cm4gdGhpcy5fY29ubmVjdFByb21pc2U9ZSx0aGlzLl9nZXRXZWJTb2NrZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24oZSl7ZSYmKHRoaXMucXVlcnlQYXJhbXMudG9rZW49ZSk7dmFyIG49dGhpcy5fbWFrZUN1cnJlbnRVcmwoKSx0PW5ldyBXZWJTb2NrZXQobik7dC5vbm9wZW49dGhpcy5faGFuZGxlU29ja2V0T3Blbi5iaW5kKHRoaXMpLHQub25jbG9zZT10aGlzLl9oYW5kbGVTb2NrZXRDbG9zZS5iaW5kKHRoaXMpLHQub25tZXNzYWdlPXRoaXMuX2hhbmRsZVNvY2tldE1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLl9zb2NrZXQ9dH0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oZSl7dmFyIG49bmV3IHIoXCJ3ZWItc29ja2V0LWNvbm5lY3Rvcjpjb25uZWN0XCIsXCJDb3VsZCBub3QgZ2V0IHdlYnNvY2tldCB0b2tlbiBmb3Igc2VjdXJlZCBzZXJ2aWNlXCIsZSk7dGhpcy5fc2V0KFwiY29ubmVjdGlvbkVycm9yXCIsbiksdGhpcy5fY29ubmVjdFByb21pc2UucmVqZWN0KG4pfS5iaW5kKHRoaXMpKSxlLnByb21pc2V9LF9nZXRXZWJTb2NrZXRUb2tlbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMucXVlcnlQYXJhbXMsbj1lJiZlLnRva2VuLHQ9dGhpcy50b2tlbk5lZWRlZDtyZXR1cm4gbj9zLnJlc29sdmUobik6dD90aGlzLmxheWVyU291cmNlLmdldFdlYlNvY2tldFRva2VuKCk6cy5yZXNvbHZlKCl9LF9tYWtlQ3VycmVudFVybDpmdW5jdGlvbigpe3ZhciBuLHQsbyxjPXRoaXMucXVlcnlQYXJhbXMscz10aGlzLnNvY2tldFVybHM7cmV0dXJuIDEhPT1zLmxlbmd0aCYmdGhpcy5jdXJyZW50U29ja2V0VXJsPyhuPXMuaW5kZXhPZih0aGlzLmN1cnJlbnRTb2NrZXRVcmwpLHQ9bj49cy5sZW5ndGgtMT8wOm4rMSxvPXNbdF0pOm89c1swXSx0aGlzLl9zZXQoXCJjdXJyZW50U29ja2V0VXJsXCIsbyksYyYmKG8rPVwiP1wiK2Uub2JqZWN0VG9RdWVyeShjKSksb30sX2hhbmRsZVNvY2tldE9wZW46ZnVuY3Rpb24oKXt0aGlzLl9zZXQoXCJjb25uZWN0aW9uU3RhdHVzXCIsXCJjb25uZWN0ZWRcIiksdGhpcy5fc2V0KFwiY29ubmVjdGlvbkVycm9yXCIsbnVsbCksdGhpcy5fZGlzY29ubmVjdFByb21pc2U9bnVsbCx0aGlzLl9jb25uZWN0UHJvbWlzZSYmdGhpcy5fY29ubmVjdFByb21pc2UucmVzb2x2ZSgpfSxfaGFuZGxlU29ja2V0Q2xvc2U6ZnVuY3Rpb24oZSl7dmFyIG4sdD1udWxsO3RoaXMucXVlcnlQYXJhbXMmJih0aGlzLnF1ZXJ5UGFyYW1zLnRva2VuPW51bGwpLGUud2FzQ2xlYW4mJiFlLmNvZGV8fCgxMDAxPT09ZS5jb2RlP249XCJTZXJ2aWNlIGlzIGdvaW5nIGF3YXkuXCI6NDQwMD09PWUuY29kZT9uPWUucmVhc29ufHxcIkludmFsaWQgdXJsIHBhcmFtZXRlcnMuIENoZWNrIGZpbHRlciBwcm9wZXJ0aWVzLlwiOjQ0MDQ9PT1lLmNvZGU/bj1cIlNlcnZpY2Ugbm90IGZvdW5kXCI6NDQwMT09PWUuY29kZXx8NDQwMz09PWUuY29kZT9uPVwiTm90IGF1dGhvcml6ZWRcIjplLndhc0NsZWFufHwobj1lLnJlYXNvbnx8XCJVbmtub3duIHJlYXNvblwiKSxuJiYodD1uZXcgcihcIndlYi1zb2NrZXQtY29ubmVjdG9yOmNvbm5lY3Rpb24gY2xvc2VkXCIsXCJDb25uZWN0aW9uIGZhaWxlZDogXCIrbiksdGhpcy5fc2V0KFwiY29ubmVjdGlvbkVycm9yXCIsdCksdGhpcy5fY29ubmVjdFByb21pc2UmJnRoaXMuX2Nvbm5lY3RQcm9taXNlLnJlamVjdCh0KSkpLHRoaXMuX2Nvbm5lY3RQcm9taXNlPW51bGwsdGhpcy5fc2V0KFwiY29ubmVjdGlvblN0YXR1c1wiLFwiZGlzY29ubmVjdGVkXCIpLHRoaXMuX3NvY2tldD1udWxsfSxfaGFuZGxlU29ja2V0TWVzc2FnZTpmdW5jdGlvbihlKXt0aGlzLmVtaXQoXCJkYXRhLXJlY2VpdmVkXCIsZS5kYXRhKX19KX0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/arcgis-js-api/layers/support/WebSocketConnector.js\n");

/***/ })

}]);